import{_ as oe,P as ae,c as re,a as le,d as L,o,b as l,r as j,e as a,f as i,t as c,g as f,w as J,v as ie,m as w,F as b,h as x,i as h,j as M,k as v,l as y,n as T,u,p as A,q as O,s as Y,x as R,y as P,z as ce,A as K,B as ue,C as de,D as me,E as pe}from"./vendor.9617a3b4.js";window._=oe;window.Popper=ae;const Q=re(),he={admin:{incomes:{titles:{create:e=>{const{normalize:t}=e;return t(["Create a new income"])},index:e=>{const{normalize:t}=e;return t(["Index of incomes"])}},actions:{create:e=>{const{normalize:t}=e;return t(["Create income"])}},fields:{name:{label:e=>{const{normalize:t}=e;return t(["Name"])},placeholder:e=>{const{normalize:t}=e;return t([])}},description:{label:e=>{const{normalize:t}=e;return t(["Description"])},placeholder:e=>{const{normalize:t}=e;return t([])}},created_at:{label:e=>{const{normalize:t}=e;return t(["Created at"])},placeholder:e=>{const{normalize:t}=e;return t([])}}}}},search:{actions:{search:e=>{const{normalize:t}=e;return t(["Search"])},refresh:e=>{const{normalize:t}=e;return t(["Refresh"])}},fields:{name:e=>{const{normalize:t}=e;return t(["Name"])},description:e=>{const{normalize:t}=e;return t(["Description"])},created_at:e=>{const{normalize:t}=e;return t(["Created at"])}}},pagination:{next:e=>{const{normalize:t}=e;return t(["Next"])},back:e=>{const{normalize:t}=e;return t(["Back"])}},messages:{"empty-results":e=>{const{normalize:t}=e;return t(["No results were found"])},loading:e=>{const{normalize:t}=e;return t(["Loading"])}},actions:{new:e=>{const{normalize:t}=e;return t(["Create new"])}},submitting:e=>{const{normalize:t}=e;return t(["Submitting"])},save:e=>{const{normalize:t}=e;return t(["Save"])}},_e=le({locale:"en-US",messages:{"en-US":he}}),B=L("app",{state:()=>({errors:{validation:{}},message:{type:null,text:null},searchParams:{},gotoPage:null}),actions:{setValidationErrors(e){this.errors.validation=e},setErrorMessage(e){this.message.type="is-danger",this.message.text=e},setSuccessMessage(e){this.message.type="is-success",this.message.text=e},setSearchParams(e){this.searchParams=e},setGotoPage(e){this.gotoPage=e}}}),be=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},fe={},ge={class:"card mb-2"},$e={class:"card-body"};function Ce(e,t){return o(),l("div",ge,[j(e.$slots,"card-header"),a("div",$e,[j(e.$slots,"default")])])}const D=be(fe,[["render",Ce]]),xe=["for","textContent"],W=i({name:"InputLabelComponent",props:{inputId:null,label:null},setup(e){return(t,n)=>(o(),l("label",{for:e.inputId,class:"form-label",textContent:c(e.label)},null,8,xe))}}),ve=["textContent"],X=i({name:"FeedbackComponent",props:{feedback:null},setup(e){return(t,n)=>(o(),l("div",{textContent:c(e.feedback)},null,8,ve))}}),F=i({name:"InputComponent",props:{values:null,label:null,errors:null},setup(e){return(t,n)=>(o(),l(b,null,[f(W,{"input-id":t.$attrs.id,label:e.label},null,8,["input-id","label"]),J(a("input",w({"onUpdate:modelValue":n[0]||(n[0]=s=>e.values[t.$attrs.name]=s)},t.$attrs,{class:[{"is-invalid":e.errors.length},"form-control"]}),null,16),[[ie,e.values[t.$attrs.name]]]),(o(!0),l(b,null,x(e.errors,s=>(o(),h(X,{feedback:s,class:"invalid-feedback"},null,8,["feedback"]))),256))],64))}}),U=i({name:"InputSearchComponent",setup(e){return(t,n)=>(o(),h(F,w({type:"search"},t.$attrs),null,16))}}),ye=i({name:"InputDateComponent",setup(e){return(t,n)=>(o(),h(F,w({type:"date"},t.$attrs),null,16))}}),ke=["onSubmit"],we={class:"row"},Se=a("hr",null,null,-1),ze={class:"row"},Pe={class:"col"},Ne=["textContent"],je=["textContent"],Oe=i({name:"SearchComponent",props:{fields:null},emits:["search"],setup(e,{emit:t}){const n=B(),s={name:U,description:U,created_at:ye},r=M({}),d=v(()=>Object.keys(r).length===0),_=v(()=>n.errors.validation),m=()=>{g(),t("search")},p=()=>{Object.keys(r).forEach($=>delete r[$]),m()},g=()=>{n.setSearchParams(r),n.setGotoPage(null)};return($,S)=>(o(),h(D,null,{default:y(()=>[a("form",{onSubmit:O(m,["prevent"])},[a("div",we,[(o(!0),l(b,null,x(e.fields,C=>{var z;return o(),l("div",{class:"col",key:C},[(o(),h(T(s[C]),{label:$.$t(`search.fields.${C}`),values:r,errors:(z=u(_)["filters.".concat(C)])!=null?z:[],name:C,id:"filters.".concat(C)},null,8,["label","values","errors","name","id"]))])}),128))]),Se,a("div",ze,[a("div",Pe,[a("button",{type:"submit",class:A(["btn btn-secondary",{disabled:u(d)}]),textContent:c($.$t("search.actions.search"))},null,10,Ne),a("button",{type:"button",class:"btn btn-secondary ms-2",onClick:p,textContent:c($.$t("search.actions.refresh"))},null,8,je)])])],40,ke)]),_:1}))}}),Te={class:"card-header"},Be=["textContent"],Z=i({name:"CardHeaderComponent",props:{title:null},setup(e){return(t,n)=>(o(),l("div",Te,[a("h3",{class:"card-title mb-0",textContent:c(e.title)},null,8,Be)]))}}),De=["href","textContent"],Ie=i({name:"CreateButtonComponent",props:{text:null,route:null},setup(e){return(t,n)=>(o(),l("a",{class:"btn btn-primary",href:e.route,textContent:c(e.text)},null,8,De))}}),Ee=["href","textContent"],Ae=i({name:"BackButtonComponent",props:{text:null,route:null},setup(e){return(t,n)=>(o(),l("a",{class:"btn ms-2 btn-secondary",href:e.route,textContent:c(e.text)},null,8,Ee))}}),qe={class:"d-flex flex-row-reverse bg-light border border-1 rounded rounded-2 p-2 mb-2"},ee=i({name:"ToolbarComponent",props:{items:{type:Object,required:!0}},setup(e){const t={create:Ie,back:Ae};return(n,s)=>(o(),l("div",qe,[(o(!0),l(b,null,x(e.items,(r,d)=>(o(),h(T(t[d]),w({class:"ms-2"},r),null,16))),256))]))}}),Le={current_page:0,from:0,path:"",per_page:0,to:0,items:0},te=L("pagination",{state:()=>Le,actions:{set(e){this.current_page=e.current_page,this.from=e.from,this.path=e.path,this.per_page=e.per_page,this.to=e.to,this.items=e.items},reset:function(){this.$reset()}}}),Me={"aria-label":"Index pagination",class:"d-flex justify-items-center align-items-center justify-content-between"},Re={class:"pagination"},Fe={class:"page-item"},Ue=["textContent"],Ge={class:"page-item"},Ve=["textContent"],He={key:0},Je={class:"small text-muted"},Ye=R(" showing from "),Ke={class:"fw-semibold"},Qe=R(" to "),We={class:"fw-semibold"},Xe=R(" on page "),Ze={class:"fw-semibold"},et=i({name:"PaginationComponent",emits:["goto:page"],setup(e,{emit:t}){const n=B(),s=te(),r=v(()=>s.items&&s.items===s.per_page),d=v(()=>s.items&&s.current_page>1),_=m=>{n.setGotoPage(Number(m)),t("goto:page")};return(m,p)=>(o(),l("nav",Me,[a("ul",Re,[a("li",Fe,[a("button",{class:A([{disabled:!u(d)},"page-link"]),type:"button",textContent:c(`\xAB ${m.$t("pagination.back")}`),onClick:p[0]||(p[0]=O(g=>_(u(s).current_page-1),["prevent"]))},null,10,Ue)]),a("li",Ge,[a("button",{class:A([{disabled:!u(r)},"page-link"]),type:"button",textContent:c(`${m.$t("pagination.next")} \xBB`),onClick:p[1]||(p[1]=O(g=>_(u(s).current_page+1),["prevent"]))},null,10,Ve)])]),u(s).items?(o(),l("div",He,[a("p",Je,[Ye,a("span",Ke,c(u(s).from),1),Qe,a("span",We,c(u(s).to),1),Xe,a("span",Ze,c(u(s).current_page),1)])])):Y("",!0)]))}}),tt=i({name:"BaseDashboardComponent",props:{searchFields:null,actions:null,title:null},emits:["search","goto:page"],setup(e,{emit:t}){return(n,s)=>(o(),l(b,null,[f(Oe,{onSearch:s[0]||(s[0]=r=>t("search")),fields:e.searchFields},null,8,["fields"]),f(D,null,{"card-header":y(()=>[f(Z,{title:e.title},null,8,["title"])]),default:y(()=>[f(ee,{items:e.actions},null,8,["items"]),j(n.$slots,"default")]),_:3}),f(et,{"onGoto:page":s[1]||(s[1]=r=>t("goto:page"))})],64))}}),nt=["textContent"],st=i({name:"NameComponent",props:{content:null},setup(e){const t=e;return(n,s)=>(o(),l("td",{textContent:c(t.content)},null,8,nt))}}),ot=["textContent"],at=i({name:"CreatedAtComponent",props:{content:null},setup(e){const t=e;return(n,s)=>(o(),l("td",{textContent:c(t.content.toLocaleDateString())},null,8,ot))}}),rt=["textContent"],lt=i({name:"DescriptionComponent",props:{content:null},setup(e){const t=e;return(n,s)=>(o(),l("td",{textContent:c(t.content)},null,8,rt))}}),it=["textContent"],ct=i({name:"AlertComponent",props:{content:null},setup(e){return(t,n)=>(o(),l("div",{class:"alert alert-info text-center",textContent:c(e.content)},null,8,it))}}),ut={class:"table-responsive"},dt={class:"table table-condensed table-hover"},mt=["textContent"],pt=a("th",null,null,-1),ht=a("td",null,null,-1),_t={key:1},bt=["colspan"],ft=i({name:"TableComponent",props:{fields:null,items:null},setup(e){const{fields:t,items:n}=e,s={name:st,created_at:at,description:lt},r=v(()=>Object.keys(t)),d=v(()=>Object.keys(t).length);return(_,m)=>(o(),l("div",ut,[a("table",dt,[a("thead",null,[a("tr",null,[(o(!0),l(b,null,x(e.fields,p=>(o(),l("th",{textContent:c(p.label)},null,8,mt))),256)),pt])]),a("tbody",null,[e.items.length?(o(!0),l(b,{key:0},x(e.items,(p,g)=>(o(),l("tr",{key:g},[(o(!0),l(b,null,x(u(r),$=>(o(),h(T(s[$]),{content:p[$]},null,8,["content"]))),256)),ht]))),128)):(o(),l("tr",_t,[a("td",{colspan:u(d)+1},[f(ct,{content:_.$t("messages.empty-results")},null,8,["content"])],8,bt)]))]),j(_.$slots,"table-bottom")])]))}}),gt=["textContent"],$t=i({name:"LoadingComponent",setup(e){const{t}=P();return(n,s)=>(o(),l("div",{class:"py-5 bg-light text-center",textContent:c(u(t)("messages.loading"))},null,8,gt))}}),Ct=i({name:"BaseListComponent",props:{fields:null,loading:null,items:null},setup(e){return(t,n)=>e.loading?(o(),h($t,{key:0})):(o(),h(ft,{key:1,fields:e.fields,items:e.items},null,8,["fields","items"]))}}),xt=i({name:"IncomeListComponent",props:{loading:null,items:null},setup(e){const{t}=P(),n={name:{label:t("admin.incomes.fields.name.label")},description:{label:t("admin.incomes.fields.description.label")},created_at:{label:t("admin.incomes.fields.created_at.label")}};return(s,r)=>(o(),h(Ct,{items:e.items,loading:e.loading,fields:n},null,8,["items","loading"]))}}),vt=201,yt=422,k=B(Q),kt=e=>Object.assign({},{status:e.status,statusText:e.statusText}),G=(e,t={})=>(Object.assign(t,{headers:Nt()}),new Request(e,t)),wt=e=>e.json().then(t=>{switch(e.status){case vt:{k.setSuccessMessage(t.message);break}}return t}),St=e=>{if(e.ok)return wt(e);e.json().then(n=>{switch(e.status){case yt:k.setErrorMessage(n.message),k.setValidationErrors(n.errors)}});const t=kt(e);return Promise.reject(t)},zt=e=>{Object.assign(e,{page:k.gotoPage,filters:k.searchParams}),Object.assign(e,JSON.parse(JSON.stringify(e),(n,s)=>s==""||s==[]||s=={}?null:s));const t={skipNulls:!0};return new URLSearchParams(ce.stringify(e,t))},Pt=()=>({requestToApi:async e=>(k.setValidationErrors({}),await fetch(e).then(t=>St(t)).then(t=>t)),makeGetRequest:(e,t)=>(e=e.concat("?",zt(t).toString()),G(e)),makePostRequest:(e,t)=>{const n={method:"post",body:JSON.stringify(t)};return G(e,n)}}),Nt=()=>{const e=new Headers;return e.append("accept","application/json"),e.append("content-type","application/json"),e},N=Pt(),jt=()=>({get:async(e,t)=>{const n=N.makeGetRequest(e,t);return N.requestToApi(n)},post:async(e,t)=>{const n=N.makePostRequest(e,t);return N.requestToApi(n)}});class Ot{constructor(t,n){this.created_at=new Date(t),this.updated_at=new Date(n)}}class I extends Ot{constructor(t,n,s,r,d){super(d),this.id=t,this.name=n,this.description=s,this.is_disabled=r}isDisabled(){return this.is_disabled}isEnabled(){return!this.isDisabled()}static map(t){return t.map(function(n){return new I(n.id,n.name,n.description,n.is_disabled,n.created_at)})}}const ne=L("incomes",{state:()=>({page:null,incomes:[]}),actions:{all(){return this.incomes},add(e){this.incomes.push(e)},total(){return this.incomes.length},reset:function(){this.$reset()}}}),V=jt(),H="/api/admin/incomes",q=ne(),Tt=te(),Bt=e=>{e.forEach(function(t){q.add(new I(t.id,t.name,t.description,t.is_disabled,t.created_at))})},se=()=>({get:()=>V.get(H,{}).then(e=>{q.$reset(),Bt(e.incomes),Tt.set(Object.assign(e.meta,{items:q.total()}))}),store:e=>V.post(H,e).then(t=>new I(t.data.id,t.data.name,t.data.description,t.data.is_disabled,t.data.created_at))});function Dt(e){const t=K(!1),n=()=>{t.value=!0,e.get().then().finally(()=>t.value=!1)};return ue(()=>n()),{loading:t,fetchModels:n}}const It=i({name:"IncomeDashboardComponent",setup(e){const{t}=P(),n=["name","description","created_at"],s=ne(),r=se(),{loading:d,fetchModels:_}=Dt(r),m={create:{route:"/admin/incomes/create",text:t("admin.incomes.actions.create")}};return(p,g)=>(o(),h(tt,{"onGoto:page":u(_),onSearch:u(_),"search-fields":n,title:p.$t("admin.incomes.titles.index"),actions:m},{default:y(()=>[f(xt,{items:u(s).all(),loading:u(d)},null,8,["items","loading"])]),_:1},8,["onGoto:page","onSearch","title"]))}}),Et=["textContent","disabled"],At=i({name:"SubmitButtonComponent",props:{disabled:null,text:null},setup(e){return(t,n)=>(o(),l("button",{class:"btn btn-success ms-2",type:"submit",textContent:c(e.text),disabled:e.disabled},null,8,Et))}}),qt=["onSubmit"],Lt=a("hr",null,null,-1),Mt={class:"d-flex justify-content-end"},Rt=i({name:"CreateForm",props:{fields:null,errors:null,submitting:null},emits:["submit"],setup(e,{emit:t}){const{fields:n,errors:s,submitting:r}=e,{t:d}=P(),_=M({}),m=v(()=>d(r?"submitting":"save")),p=()=>t("submit",_);return(g,$)=>(o(),l("form",{onSubmit:O(p,["prevent"])},[(o(!0),l(b,null,x(e.fields,(S,C)=>{var z;return o(),l("div",{key:C,class:"mb-2"},[(o(),h(T(S.component),{errors:(z=e.errors[C])!=null?z:{},id:C,name:C,values:_,label:S.label,placeholder:S.placeholder},null,8,["errors","id","name","values","label","placeholder"]))])}),128)),Lt,a("div",Mt,[f(At,{disabled:e.submitting,text:u(m),class:"w-100 wmd-75"},null,8,["disabled","text"])])],40,qt))}}),Ft={class:"row"},Ut=["textContent"],Gt=["textContent"],Vt=a("hr",null,null,-1),Ht={key:0,class:"row"},Jt=["textContent"],Yt=["textContent"],Kt={class:"d-flex justify-content-end"},Qt=["textContent"],Wt=i({name:"ModelCreatedComponent",props:{model:null,fields:null},emits:["createNew"],setup(e,{emit:t}){return(n,s)=>(o(),h(D,null,{default:y(()=>[a("dl",Ft,[(o(!0),l(b,null,x(e.fields,(r,d)=>(o(),l(b,null,[a("dt",{class:"col-sm-3",textContent:c(r.label)},null,8,Ut),a("dd",{class:"col-sm-9",textContent:c(e.model[d])},null,8,Gt)],64))),256))]),Vt,Boolean(e.model.created_at)?(o(),l("dl",Ht,[a("dt",{class:"col-sm-3",textContent:c(n.$t("Created at"))},null,8,Jt),a("dd",{class:"col-sm-9",textContent:c(e.model.created_at.toLocaleDateString())},null,8,Yt)])):Y("",!0),a("div",Kt,[a("button",{class:"btn btn-primary ms-2",type:"button",onClick:s[0]||(s[0]=r=>t("createNew")),textContent:c(n.$t("actions.new"))},null,8,Qt)])]),_:1}))}}),Xt=i({name:"BaseCreateComponent",props:{title:null,fields:null,actions:null,errors:null,submitting:null,model:null},emits:["create","createNew"],setup(e,{emit:t}){const n=s=>t("create",s);return(s,r)=>(o(),h(D,null,{"card-header":y(()=>[f(Z,{title:e.title},null,8,["title"])]),default:y(()=>[f(ee,{items:e.actions},null,8,["items"]),Object.keys(e.model).length?(o(),h(Wt,{key:0,model:e.model,fields:e.fields,onCreateNew:r[0]||(r[0]=d=>t("createNew"))},null,8,["model","fields"])):(o(),h(Rt,{key:1,errors:e.errors,fields:e.fields,submitting:e.submitting,onSubmit:n},null,8,["errors","fields","submitting"]))]),_:1}))}}),Zt=i({name:"InputTextComponent",setup(e){return(t,n)=>(o(),h(F,w({type:"text"},t.$attrs),null,16))}}),en=["id","rows"],tn=i({name:"TextAreaComponent",props:{rows:null,values:null,errors:null,label:null},setup(e){return(t,n)=>{var s;return o(),l(b,null,[f(W,{"input-id":t.$attrs.id,label:e.label},null,8,["input-id","label"]),J(a("textarea",w({id:t.$attrs.id,"onUpdate:modelValue":n[0]||(n[0]=r=>e.values[t.$attrs.name]=r),class:[{"is-invalid":e.errors.length},"form-control"],rows:(s=e.rows)!=null?s:8},t.$attrs),null,16,en),[[de,e.values[t.$attrs.name]]]),(o(!0),l(b,null,x(e.errors,r=>(o(),h(X,{feedback:r,class:"invalid-feedback"},null,8,["feedback"]))),256))],64)}}});function nn(e){const t=K(!1),n=M({}),s=B(),r=()=>{Object.keys(n).forEach(m=>delete n[m])},d=m=>{console.log(m),t.value=!0,e.store(m).then(p=>{console.log(p),Object.keys(m).forEach(g=>delete m[g]),Object.assign(n,p)}).finally(()=>t.value=!1)},_=v(()=>s.errors.validation);return{submitting:t,model:n,errors:_,handleSubmit:d,createNewOne:r}}const sn=i({name:"IncomeCreateComponent",setup(e){const{t}=P(),n=se(),{submitting:s,errors:r,model:d,handleSubmit:_,createNewOne:m}=nn(n),p={name:{label:t("admin.incomes.fields.name.label"),component:Zt},description:{label:t("admin.incomes.fields.description.label"),component:tn}},g={back:{route:"/admin/incomes",text:t("admin.incomes.titles.index")}};return($,S)=>(o(),h(Xt,{onCreateNew:u(m),onCreate:u(_),actions:g,errors:u(r),fields:p,model:u(d),submitting:u(s),title:$.$t("admin.incomes.titles.create")},null,8,["onCreateNew","onCreate","errors","model","submitting","title"]))}}),E=me({});E.config.globalProperties.emitter=pe();E.component("income-dashboard-component",It);E.component("income-create-component",sn);E.use(_e).use(Q).mount("#app");
